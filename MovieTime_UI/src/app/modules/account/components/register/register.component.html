<form #form="ngForm" [matchPassword]="['psw', 'cpsw']">
  <div class="full-width" fxLayoutAlign="center start">
    <mat-card class="card">
      <div class="container" fxLayout="column" fxLayoutAlign="center center" fxLayoutGap="1.5rem">
        <div class="title">Create account</div>
        <div style="height: 1rem;"></div>
        <div id="username" fxLayout="column">
          <label for="uname">
            <b>{{ 'username' | translate }}</b>
          </label>
          <input type="text" class="input" [placeholder]="'username' | translate" name="uname" #uname="ngModel"
            [(ngModel)]="registerModel.username" required />
          <div *ngIf="uname.touched && uname.invalid">
            <div class="error" *ngIf="uname.errors?.required">
              {{ 'validation.fieldRequired' | translate }}
            </div>
          </div>
        </div>
        <div id="password" fxLayout="column">
          <label for="psw">
            <b>{{ 'password' | translate }}</b>
          </label>
          <input type="password" class="input" [placeholder]="'password' | translate" name="psw" #psw="ngModel"
            [(ngModel)]="registerModel.passwordHash" required passwordPattern />
          <div *ngIf="psw.touched && psw.invalid">
            <div class="error" *ngIf="psw.errors?.required">
              {{ 'passwordRequired' | translate }}
            </div>
            <div class="error" *ngIf="psw.errors?.invalidPassword">
              {{ 'invalidPassword' | translate }}
            </div>
          </div>
        </div>
        <div id="confirmPassword" fxLayout="column">
          <label for="cpsw">
            <b>{{ 'confirmPassword' | translate }}</b>
          </label>
          <input type="password" class="input" [placeholder]="'confirmPassword' | translate" name="cpsw" #cpsw="ngModel"
            [(ngModel)]="registerModel.confirmPassword" required />
          <div *ngIf="cpsw.touched && cpsw.invalid">
            <div class="error" *ngIf="cpsw.errors?.required">
              {{ 'confirmPasswordRequired' | translate }}
            </div>
            <div class="error" *ngIf="cpsw.errors?.passwordMismatch">
              {{ 'passwordMustMatch' | translate }}
            </div>
          </div>
        </div>
        <div id="fullName" fxLayout="column">
          <label for="fname">
            <b>{{ 'fullName' | translate }}</b>
          </label>
          <input type="text" class="input" [placeholder]="'fullName' | translate" name="fname" #fname="ngModel"
            [(ngModel)]="registerModel.fullName" required />
          <div *ngIf="fname.touched && fname.invalid">
            <div class="error" *ngIf="fname.errors?.required">
              {{ 'validation.fieldRequired' | translate }}
            </div>
          </div>
        </div>
        <button class="full-width button" (click)="onRegister()" [disabled]="form.invalid || form.pristine">
          {{ 'register' | translate }}
        </button>
        <button class="full-width button" (click)="onBackToLogin()">
          {{ 'backToLogin' | translate }}
        </button>
        <div *ngIf="hasError" class="error">Registration failed! Please re-enter the credentials.</div>
      </div>
    </mat-card>
  </div>
</form>